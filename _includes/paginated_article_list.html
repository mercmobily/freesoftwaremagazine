{% if page.list_title %}
  <h3 class="text-center mb-4">{{ page.list_title }}</h3>
{% endif %}

{% if page.list_photo_url %}
  <p class="text-center">
    <img class="img-fluid rounded mb-3" src="{{ page.list_photo_url }}" alt="{{ page.list_title }}" style="max-width: 220px;">
  </p>
{% endif %}

{% if page.list_description %}
  <div class="mb-4">
    {{ page.list_description }}
  </div>
{% endif %}

{% if page.list_name == "books" %}
  <div class="table-responsive">
    <table class="table table-striped table-sm books-chapter-list">
      <thead>
        <tr>
          <th scope="col">Chapter</th>
          <th scope="col">Author</th>
          <th scope="col">Published</th>
        </tr>
      </thead>
      <tbody>
        {% for article in page.elements_in_this_page %}
          {% assign authors = article.authors | default: "" | split: "," %}
          {% assign date_value = article.published | default: article.date %}
          <tr>
            <td><a href="{{ article.url }}">{{ article.title }}</a></td>
            <td>
              {% for author in authors %}
                {% assign author_slug = author | strip %}
                {% assign author_label = author_slug | replace: "_", " " %}
                {% if author_slug != "" %}
                  <a href="/authors/{{ author_slug | uri_escape }}">{{ author_label }}</a>
                {% endif %}
              {% endfor %}
            </td>
            <td>
              {% if date_value %}
                {{ date_value | date: "%-m/%-d/%Y" }}
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="row {{ page.list_name }}">
    {% for article in page.elements_in_this_page %}
      <div class="col-sm-6 col-lg-4 mb-4">
        {% include article_card.html article=article %}
      </div>
    {% endfor %}
  </div>
{% endif %}

{% if page.total_pages and page.total_pages != 1 %}
  <nav aria-label="This article list spans multiple pages">
    <ul class="pagination justify-content-center my-3">
      {% if page.prev_page_url %}
        <li class="page-item">
          <a class="page-link" href="{{ page.prev_page_url }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" aria-label="Previous" tabindex="-1">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
      {% endif %}

      {% for p in page.pager_links %}
        {% if p.this_page %}
          <li class="page-item active">
            <a class="page-link" href="#" tabindex="-1">{{ p.page_number }}</a>
          </li>
        {% else %}
          <li class="page-item">
            <a class="page-link" href="{{ p.page_url }}">{{ p.page_number }}</a>
          </li>
        {% endif %}
      {% endfor %}

      {% if page.next_page_url %}
        <li class="page-item">
          <a class="page-link" href="{{ page.next_page_url }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" aria-label="Next" tabindex="-1">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      {% endif %}
    </ul>
  </nav>
{% endif %}
